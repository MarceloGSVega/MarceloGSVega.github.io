<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Relatório Lab 5 - Processamento de Vídeo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
</head>

<body class="bg-light">
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="../index.html">
                <i class="bi bi-arrow-left"></i> Voltar
            </a>
        </div>
    </nav>

    <div class="container py-4">
        <header class="text-center mb-5">
            <h1 class="display-4">Relatório Laboratório 5</h1>
            <p class="lead text-muted">Processamento de Vídeo</p>
        </header>

      

        <!-- 1. Introdução -->
        <section class="mb-5">
            <h2 class="h3 mb-3">1. Introdução</h2>
            <div class="card">
                <div class="card-body">
                    <p>Este relatório documenta o Laboratório 5 — Experimentos de Subtração de Fundo — da disciplina de
                        Processamento de Vídeo. O objetivo deste trabalho é estudar métodos de detecção de movimento e
                        segmentação de primeiro-plano através de subtração de fundo, comparar algoritmos e avaliar o
                        impacto de parâmetros práticos em vídeos reais.</p>

                    
                </div>
            </div>
        </section>

        <!-- 2. Fundamentos Básicos -->
        <section class="mb-5">
            <h2 class="h3 mb-3">2. Fundamentos Básicos</h2>
            <div class="card">
                <div class="card-body">
                    <p>
                        O processamento de vídeo e imagem se baseia na manipulação de dados em formato de matriz, sendo
                        a biblioteca OpenCV a ferramenta central, responsável por fornecer as rotinas de Entrada/Saída.
                    </p>
                    <p>
                        No OpenCV, uma imagem estática é carregada como uma matriz NumPy, onde cada elemento é um pixel
                        de cor, sendo o padrão de canais o BGR (Azul, Verde, Vermelho).
                    </p>
                    <p>
                        Já o vídeo é tratado como uma sequência de imagens estáticas, chamadas de frames, que são
                        processadas individualmente em um loop através do objeto `cv2.VideoCapture` e exibidas na tela a
                        uma taxa de FPS (Frames por Segundo), métrica fundamental para a avaliação do desempenho de
                        qualquer algoritmo de processamento em tempo real.
                    </p>
                </div>
            </div>
        </section>

        <!-- 3. Materiais e Métodos -->
        <section class="mb-5">
            <h2 class="h3 mb-3">3. Materiais e Métodos</h2>
            <div class="card">
                <div class="card-body">
                    <h4 class="h5">3.1 Ambiente de Desenvolvimento</h4>
                    <div class="ambiente-dev">
                        <!-- 1. Ubuntu -->
                        <div class="tool-section mb-4">
                            <h5 class="h6 fw-bold">1. Ubuntu (Linux OS)</h5>
                            <p><strong>O que é:</strong> Uma distribuição Linux de código aberto.</p>
                            <p><strong>Finalidade:</strong> Fornece o sistema operacional e o ambiente de
                                desenvolvimento onde todas as ferramentas serão instaladas e executadas.</p>
                        </div>

                        <!-- 2. Terminal -->
                        <div class="tool-section mb-4">
                            <h5 class="h6 fw-bold">2. Terminal (Linux Shell)</h5>
                            <p><strong>O que é:</strong> Interface de linha de comando (CLI).</p>
                            <p><strong>Finalidade:</strong> Utilizado para executar comandos do sistema, gerenciar
                                ambientes, instalar softwares e rodar programas.</p>
                        </div>

                        <!-- 3. Conda/Miniconda3 -->
                        <div class="tool-section mb-4">
                            <h5 class="h6 fw-bold">3. Conda / Miniconda3</h5>
                            <p><strong>O que é:</strong> Miniconda é um gerenciador de pacotes e ambientes leve para
                                Python.</p>
                            <p><strong>Finalidade:</strong></p>
                            <ul>
                                <li>Gerenciar versões do Python e suas dependências.</li>
                                <li>Criar ambientes isolados (como o PV25) para evitar conflitos entre projetos.</li>
                            </ul>
                        </div>

                        <!-- 4. OpenCV -->
                        <div class="tool-section mb-4">
                            <h5 class="h6 fw-bold">4. OpenCV</h5>
                            <p><strong>O que é:</strong> Biblioteca de Visão Computacional de Código Aberto.</p>
                            <p><strong>Finalidade:</strong> Principal biblioteca usada para tarefas de visão
                                computacional e processamento de imagens/vídeos (detecção de objetos, transformações,
                                extração de características etc.).</p>
                            <p><strong>Variantes:</strong></p>
                            <ul>
                                <li><strong>OpenCV (compilado do código-fonte):</strong> Instalação completa com suporte
                                    a C++ e Python.</li>
                                <li><strong>OpenCV-Contrib:</strong> Módulos extras desenvolvidos pela comunidade (ex.:
                                    reconhecimento facial, SIFT, SURF).</li>
                                <li><strong>opencv-python (pip):</strong> Pacote pré-compilado do OpenCV para Python.
                                </li>
                                <li><strong>opencv-contrib-python (pip):</strong> Adiciona os módulos extras à
                                    instalação em Python.</li>
                            </ul>
                        </div>

                        <!-- 5. Ferramentas de Compilação -->
                        <div class="tool-section mb-4">
                            <h5 class="h6 fw-bold">5. Ferramentas de Compilação e Dependências</h5>
                            <p>Essenciais para compilar e executar o OpenCV a partir do código-fonte:</p>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item"><strong>build-essential:</strong> Compilador e ferramentas
                                    básicas de compilação.</li>
                                <li class="list-group-item"><strong>cmake:</strong> Configura e gera os arquivos de
                                    build do OpenCV.</li>
                                <li class="list-group-item"><strong>git:</strong> Usado para clonar os repositórios do
                                    OpenCV.</li>
                                <li class="list-group-item"><strong>pkg-config:</strong> Auxilia no gerenciamento de
                                    caminhos de bibliotecas e dependências.</li>
                                <li class="list-group-item"><strong>libgtk-3-dev:</strong> Suporte de interface gráfica
                                    para exibição de imagens.</li>
                                <li class="list-group-item"><strong>libavcodec-dev, libavformat-dev,
                                        libswscale-dev:</strong> Codecs de vídeo/áudio.</li>
                                <li class="list-group-item"><strong>libjpeg-dev, libpng-dev, libtiff-dev:</strong>
                                    Suporte a formatos de imagem.</li>
                                <li class="list-group-item"><strong>libxvidcore-dev, libx264-dev:</strong> Bibliotecas
                                    de codificação de vídeo.</li>
                                <li class="list-group-item"><strong>gfortran, libatlas-base-dev:</strong> Aceleração
                                    matemática.</li>
                                <li class="list-group-item"><strong>python3-dev, python3-numpy:</strong> Cabeçalhos
                                    Python + NumPy.</li>
                                <li class="list-group-item"><strong>libtbb-dev:</strong> Suporte a multithreading.</li>
                                <li class="list-group-item"><strong>libopenexr-dev:</strong> Suporte para imagens HDR.
                                </li>
                                <li class="list-group-item"><strong>libv4l-dev, libdc1394-dev:</strong> Suporte a
                                    captura de vídeo.</li>
                                <li class="list-group-item"><strong>libgstreamer-dev:</strong> Suporte a streaming de
                                    vídeo.</li>
                            </ul>
                        </div>

                        <!-- 6. pkg-config -->
                        <div class="tool-section mb-4">
                            <h5 class="h6 fw-bold">6. pkg-config</h5>
                            <p><strong>O que é:</strong> Ferramenta auxiliar para configurar flags de compilação e
                                linkagem de bibliotecas.</p>
                            <p><strong>Finalidade:</strong> Verifica se o OpenCV está instalado e acessível (pkg-config
                                --modversion opencv4).</p>
                        </div>

                        <!-- 7. Python -->
                        <div class="tool-section mb-4">
                            <h5 class="h6 fw-bold">7. Python e C++</h5>
                            <p><strong>O que sao:</strong> Linguagens de programação usadas para rodar os scripts com
                                OpenCV.</p>
                            <p><strong>Finalidade:</strong> Fornece o ambiente de programação para desenvolver tarefas
                                de visão computacional.</p>
                        </div>

                        <!-- 8. VLC Media Player -->
                        <div class="tool-section mb-4">
                            <h5 class="h6 fw-bold">9. VLC Media Player</h5>
                            <p><strong>O que é:</strong> Reprodutor multimídia gratuito e de código aberto.</p>
                            <p><strong>Finalidade:</strong> Permite visualizar vídeos e imagens fora do OpenCV, útil
                                para testes e validação de resultados do processamento de vídeo.</p>
                        </div>
                    </div>

                    <h4 class="h5 mt-4">3.2 Processamentos Basicos de Imagem</h4>
                    


                    <h4 class="h5 mt-4">3.3 Procedimentos Experimentais</h4>
                

                        <!-- Step 2 -->
                        <div class="step-card mb-4">
                            <div class="card">
                                <div class="card-header bg-light">
                                    <h5 class="h6 mb-0">
                                        <i class="bi bi-save"></i> Passo 1 – Gravação de vídeos
                                    </h5>
                                </div>
                                <div class="card-body">
                                    <p>Desenvolvimento de programa para gravação utilizando <code>cv2.VideoWriter</code>
                                    </p>
                                    <p class="mt-3 mb-0">Objetivo: Registrar e salvar transmissões para análise
                                        posterior.</p>
                                </div>

                                <div class="row justify-content-center mb-3">
        

                                    <div class="col ms-5">
                                        <h5 class="mb-3">Vídeos Gabriel</h5>
                                        <div class="row g-3">
                                            <div class="col-12 col-md-6">
                                                <h6 class="h6">Demonstração com movimetos rápidos</h6>
                                                <div class="ratio ratio-16x9">
                                                    <iframe src="https://www.loom.com/embed/083c031daa184695bb96931f032dd3c1"
                                                        title="Demonstração 1" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                                                        allowfullscreen></iframe>
                                                </div>
                                            </div>

                                            <div class="col-12 col-md-6">
                                                <h6 class="h6">Demonstração com movimentos lentos</h6>
                                                <div class="ratio ratio-16x9">
                                                    <iframe src="https://www.loom.com/embed/10100b9d3d0648f1878e8f9bdc01cc0a"
                                                        title="Demonstração 2" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                                                        allowfullscreen></iframe>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 4. Resultados e Análises -->
        <section class="mb-5">
            <h2 class="h3 mb-3">4. Resultados e Análises</h2>
            <div class="card">
                <div class="card-body">
                    <div class="results-analysis">
                        <!-- 4.1 Resultados Obtidos -->
                        <div class="results-section mb-4">
                            <h4 class="h5 mb-3">4.1 Resultados Obtidos</h4>
                            <div class="row g-4">
                               

                                <!-- Resultado 3 -->
                                <div class="col-md-12">
                                    <div class="card h-100">
                                        <div class="card-header bg-info text-white">
                                            <i class="bi bi-save"></i> Gravação
                                        </div>

                                        <div class="row g-3">
                                            <div class="col-12 col-md-6 col-lg-3">
                                                <h6 class="h6">Gravação — Movimento Rápido Background</h6>
                                                <div class="ratio ratio-16x9">
                                                    <iframe src="https://www.loom.com/embed/381252db90024b3fbf717e6958cf1a93"
                                                        title="Gravação Exemplo A" frameborder="0"
                                                        allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                                                        allowfullscreen></iframe>
                                                </div>
                                            </div>

                                            <div class="col-12 col-md-6 col-lg-3">
                                                <h6 class="h6">Gravação — Movimento Rápido</h6>
                                                <div class="ratio ratio-16x9">
                                                    <iframe src="https://www.loom.com/embed/083c031daa184695bb96931f032dd3c1" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe>
                                                </div>
                                            </div>

                                            <div class="col-12 col-md-6 col-lg-3">
                                                <h6 class="h6">Gravação — Movimento lento Background</h6>
                                                <div class="ratio ratio-16x9">
                                                    <iframe src="https://www.loom.com/embed/381252db90024b3fbf717e6958cf1a93"
                                                        title="Gravação Exemplo C" frameborder="0"
                                                        allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                                                        allowfullscreen></iframe>
                                                </div>
                                            </div>

                                            <div class="col-12 col-md-6 col-lg-3">
                                                <h6 class="h6">Gravação — Movimento lento </h6>
                                                <div class="ratio ratio-16x9">
                                                   <iframe src="https://www.loom.com/embed/10100b9d3d0648f1878e8f9bdc01cc0a" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card-body">
                                            <p class="card-text">
                                                O vídeo capturado foi salvo no formato .avi, com qualidade satisfatória
                                                e sincronização estável entre captura e gravação.
                                            </p>
                                        </div>
                                    </div>
                                </div>

                               
                            </div>
                        </div>

                    
                    </div>
                </div>
            </div>
        </section>

        <!-- Lab 5: Subtração de Fundo -->
        <section class="mb-5">
            <div class="card">
                <div class="card-body">
                    <p>Este laboratório explora técnicas de subtração de fundo usando OpenCV (MOG2, KNN). O código de
                        apoio e instruções estão disponíveis na pasta <code>../lab5/</code>.</p>

                    <div class="row g-3 align-items-center">
                        <div class="col-md-8">
                            <p class="mb-2"><strong>Arquivos principais:</strong></p>
                            <ul>
                                <li><a href="../lab5/bg_sub_custom.cpp" target="_blank"
                                        rel="noopener noreferrer">bg_sub_custom.cpp — código (KNN baseado)</a></li>
                            </ul>
                        </div>
                        <div class="col-md-4 text-md-end">
                            
                            <a class="btn btn-outline-secondary mb-2" href="../lab5/bg_sub_custom.cpp" target="_blank"
                                rel="noopener noreferrer">
                                <i class="bi bi-file-code"></i> Ver código
                            </a>
                        </div>
                    </div>

                    <h5 class="mt-3">Como compilar (exemplo)</h5>
                    <pre
                        class="small bg-light p-2 rounded"><code>g++ -std=c++17 ../lab5/bg_sub_custom.cpp -o bg_sub_custom `pkg-config --cflags --libs opencv4`</code></pre>

                    <h5 class="mt-2">Como executar (exemplos)</h5>
                    <ul>
                        <li><code>./bg_sub_custom ../lab5/vtest.avi fast</code> — rodar com vídeo de teste (modo rápido)
                        </li>
                        <li><code>./bg_sub_custom ../lab5/vtest.avi slow</code> — rodar com modo mais preciso/lento</li>
                        <li><code>./bg_sub_custom 0 fast</code> — usar webcam (0) em modo rápido</li>
                    </ul>

                    <h5 class="mt-3">Código (exemplo) — bg_sub_custom.cpp</h5>
                    <p class="small text-muted">Copie o código abaixo para <code>bg_sub_custom.cpp</code> ou abra o arquivo em <code>../lab5/</code>.</p>
                    <pre class="bg-light p-3 rounded" style="overflow:auto; max-height:520px;"><code>
#include &lt;opencv2/opencv.hpp&gt;
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;filesystem&gt;

using namespace cv;
using std::cout;
using std::cerr;
using std::endl;
using std::string;

struct Config {
    int min_brightness;
    int max_brightness;
    int min_area;
    double learning_rate;
    int bg_thresh;
    Size morph_kernel;
};

int main(int argc, char** argv)
{
    if (argc &lt; 3) {
        cerr &lt;&lt; "Usage: " &lt;&lt; argv[0] &lt;&lt; " &lt;video_path&gt; &lt;mode: fast|slow&gt;" &lt;&lt; endl;
        return 1;
    }

    string video_path = argv[1];
    string mode = argv[2];

    Config cfg;
    if (mode == "fast") {
        cfg.min_brightness = 30;
        cfg.max_brightness = 220;
        cfg.min_area = 800;
        cfg.learning_rate = 0.7; // fast adaptation
        cfg.bg_thresh = 900;
        cfg.morph_kernel = Size(3,3);
    } else if (mode == "slow") {
        cfg.min_brightness = 40;
        cfg.max_brightness = 180;
        cfg.min_area = 1200;
        cfg.learning_rate = 0.05; // slow adaptation
        cfg.bg_thresh = 300;
        cfg.morph_kernel = Size(7,7);
    } else {
        cerr &lt;&lt; "Mode must be 'fast' or 'slow'" &lt;&lt; endl;
        return 1;
    }

    VideoCapture cap(video_path);
    if (!cap.isOpened()) {
        cerr &lt;&lt; "❌ Cannot open video: " &lt;&lt; video_path &lt;&lt; endl;
        return 1;
    }

    int frame_width = static_cast&lt;int&gt;(cap.get(CAP_PROP_FRAME_WIDTH));
    int frame_height = static_cast&lt;int&gt;(cap.get(CAP_PROP_FRAME_HEIGHT));
    double fps = cap.get(CAP_PROP_FPS);
    if (fps &lt;= 0.0) fps = 20.0;
    Size frame_size(frame_width, frame_height);

    // ensure outputs directory
    std::filesystem::create_directories("./outputs");
    string output_path = "./outputs/" + mode + "_output_video.avi";
    int fourcc = VideoWriter::fourcc('M','J','P','G');
    VideoWriter writer(output_path, fourcc, fps, frame_size);
    if (!writer.isOpened()) {
        cerr &lt;&lt; "Could not open output writer: " &lt;&lt; output_path &lt;&lt; endl;
        // continue, we can still show windows
    }

    Ptr&lt;BackgroundSubtractorKNN&gt; backSub = createBackgroundSubtractorKNN(false);
    backSub-&gt;setDist2Threshold(cfg.bg_thresh);

    cout &lt;&lt; "▶ Processing " &lt;&lt; mode &lt;&lt; " mode... Press 'q' to quit" &lt;&lt; endl;

    Mat frame, gray, mask, gray_masked, fgmask;
    Mat kernel = getStructuringElement(MORPH_ELLIPSE, cfg.morph_kernel);

    while (true) {
        if (!cap.read(frame) || frame.empty())
            break;

        // convert to grayscale
        cvtColor(frame, gray, COLOR_BGR2GRAY);

        // brightness mask
        inRange(gray, Scalar(cfg.min_brightness), Scalar(cfg.max_brightness), mask);
        bitwise_and(gray, gray, gray_masked, mask);

        // apply background subtraction on masked grayscale
        backSub-&gt;apply(gray_masked, fgmask, cfg.learning_rate);

        // morphological cleanup (erode then dilate)
        erode(fgmask, fgmask, kernel, Point(-1,-1), 1);
        dilate(fgmask, fgmask, kernel, Point(-1,-1), 2);

        // find contours
        std::vector&lt;std::vector&lt;Point&gt;&gt; contours;
        std::vector&lt;Vec4i&gt; hierarchy;
        findContours(fgmask, contours, hierarchy, RETR_EXTERNAL, CHAIN_APPROX_SIMPLE);

        Mat result = frame.clone();
        for (const auto &cont : contours) {
            double area = contourArea(cont);
            if (area &lt; cfg.min_area) continue;
            Rect r = boundingRect(cont);
            rectangle(result, r, Scalar(0,255,0), 2);
            putText(result, std::to_string(static_cast&lt;int&gt;(area)), Point(r.x, r.y-10), FONT_HERSHEY_SIMPLEX, 0.5, Scalar(0,255,0), 2);
        }

        // write FG mask as 3-channel for video output (if writer opened)
        if (writer.isOpened()) {
            Mat fg_bgr;
            cvtColor(fgmask, fg_bgr, COLOR_GRAY2BGR);
            writer.write(fg_bgr);
        }

        // display
        imshow("Motion Detection (" + mode + ")", fgmask);
        imshow("Result (" + mode + ")", result);

        char c = static_cast&lt;char&gt;(waitKey(30));
        if (c == 'q' || c == 27)
            break;
    }

    cap.release();
    if (writer.isOpened()) writer.release();
    destroyAllWindows();
    cout &lt;&lt; "✅ Output saved to " &lt;&lt; output_path &lt;&lt; endl;

    return 0;
}

                    </code></pre>

                    <div class="alert alert-info mt-3 mb-0">OBS: Caso não tenha <code>vtest.avi</code>, baixe-o no
                        repositório OpenCV ou utilize um arquivo de vídeo próprio. Verifique também se o
                        <code>pkg-config</code> encontra <code>opencv4</code> na sua máquina.
                    </div>
                </div>
            </div>
        </section>

        <!-- 5. Conclusões -->
        <section class="mb-5">
            <h2 class="h3 mb-3">5. Conclusões e Comentários Finais</h2>
            <div class="card">
                <div class="card-body">
                    <!-- Introdução da Conclusão -->
                    <div class="conclusion-intro mb-4">
                        <p class="lead">
                            O experimento permitiu compreender de forma prática os fundamentos da captura,
                            exibição e gravação de imagens e vídeos com OpenCV.
                        </p>
                    </div>

                    <!-- Lições Aprendidas -->
                    <div class="lessons-learned mb-4">
                        <h4 class="h5 mb-3">
                            <i class="bi bi-lightbulb"></i> Conceitos-chave e Lições Aprendidas
                        </h4>
                        <div class="row g-4">
                                <!-- Subtratores de fundo -->
                            <div class="col-md-6">
                                <div class="card h-100 border-primary">
                                    <div class="card-body">
                                        <h6 class="card-title"><i class="bi bi-box-seam"></i> Subtratores de fundo</h6>
                                        <p class="card-text">
                                            A subtração de fundo é uma família de métodos que modelam o fundo da cena
                                            e extraem o primeiro-plano em movimento. No OpenCV, as implementações mais
                                            utilizadas são MOG2 e KNN. Ambos constroem um modelo por pixel ao longo do tempo
                                            e classificam cada novo pixel como fundo ou primeiro-plano com base nesse modelo.
                                        </p>
                                        <p class="small text-muted mb-0">Principais pontos: inicialização do modelo,
                                            atualização contínua (taxa de aprendizado) e limiar para decidir se um pixel
                                            diverge do fundo.</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Image parameters impact -->
                            <div class="col-md-6">
                                <div class="card h-100 border-success">
                                    <div class="card-body">
                                        <h6 class="card-title"><i class="bi bi-image"></i> Parâmetros de imagem e pré-processamento</h6>
                                        <p class="card-text">
                                            Qualquer pipeline de detecção depende fortemente da qualidade das
                                            imagens: exposição, balanço de branco, ruído, resolução e compressão
                                            alteram significativamente os resultados. Pré-processamentos úteis:
                                        </p>
                                        <ul class="small mb-0">
                                            <li>Conversão para escala de cinza para reduzir variação de cor;</li>
                                            <li>Máscara por brilho (threshold) para remover áreas muito escuras ou estouradas;</li>
                                            <li>Filtro morfológico (erode/dilate) para reduzir ruído e preencher buracos;</li>
                                            <li>Redimensionamento para aumentar a velocidade ou normalizar entradas.</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <!-- KNN vs MOG2 mechanisms -->
                            <div class="col-md-6">
                                <div class="card h-100 border-info">
                                    <div class="card-body">
                                        <h6 class="card-title"><i class="bi bi-gear-fill"></i> Mecanismos: KNN vs MOG2</h6>
                                        <p class="card-text">
                                            Breve comparação técnica:
                                        </p>
                                        <ul class="small mb-0">
                                            <li><strong>KNN:</strong> usa um conjunto de amostras recentes por pixel
                                                e classifica um novo valor pela distância às amostras (robusto a ruído
                                                e flutuações, bom quando há variação lenta no fundo).</li>
                                            <li><strong>MOG2:</strong> modelo Gaussiano por pixel (mixture of Gaussians),
                                                captura multimodalidade do fundo (p. ex. árvores, telas piscantes) e
                                                fornece uma máscara de sombra opcional.</li>
                                        </ul>
                                        <p class="small mt-2 mb-0">Escolha prática: MOG2 costuma lidar melhor com fundos multimodais; KNN pode ser mais estável em cenários com ruído periódico.</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Practical tips and failure modes -->
                            <div class="col-md-6">
                                <div class="card h-100 border-warning">
                                    <div class="card-body">
                                        <h6 class="card-title"><i class="bi bi-exclamation-triangle"></i> Observações práticas</h6>
                                        <p class="card-text">
                                            Durante os experimentos observamos problemas comuns e formas de mitigá-los:
                                        </p>
                                        <ul class="small mb-0">
                                            <li><strong>Sombra e reflexos:</strong> podem causar falsos positivos; usar
                                                máscara de sombra do MOG2 ou filtrar por brilho/forma ajuda.</li>
                                            <li><strong>Iluminação variável:</strong> altas variações exigem maior
                                                rate de aprendizado ou recalibração periódica.</li>
                                            <li><strong>Objetos parados:</strong> desaparecem do FG se o modelo adaptar
                                                rápido demais — escolha do learning_rate é crucial.</li>
                                            <li><strong>Ruído de câmera / compressão:</strong> aplique blur leve e
                                                morfologia para reduzir detecções espúrias.</li>
                                            <li><strong>Resolução vs desempenho:</strong> reduzir resolução aumenta FPS,
                                                mas pode perder pequenos objetos;</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Considerações Finais -->
                    <div class="final-considerations mt-4">
                        <div class="alert alert-success" role="alert">
                            <h4 class="alert-heading">
                                <i class="bi bi-arrow-right-circle"></i> Aplicações Práticas e Experimento Recomendado
                            </h4>

                            <p class="mb-2"><strong>Que aplicações práticas são possíveis com subtração de fundo e detecção de movimento?</strong></p>

                            <p>As técnicas de subtração de fundo e detecção de movimento têm ampla aplicação prática. Exemplos:</p>
                            <ul class="mt-2 mb-2">
                                <li><strong>Vigilância e segurança:</strong> detecção de intrusos, alarmes por movimento, análise de eventos suspeitos.</li>s
                                <li><strong>Contagem de pessoas/veículos:</strong> estimativa de fluxo em entradas, passarelas, controle de tráfego e estatísticas em lojas.</li>
                                <li><strong>Monitoramento de tráfego:</strong> detecção de congestionamento, contagem de veículos, detecção de eventos (acidentes, fila).</li>
                                <li><strong>Iluminação e automação predial:</strong> ligar luzes ou sistemas HVAC quando presença detectada em zonas específicas.</li>
                                <li><strong>Análise esportiva:</strong> segmentação de atletas, extração de trajetórias e métricas de desempenho.</li>
                            </ul>

                            
                            <p class="mb-0"><strong>Conclusão curta:</strong> background subtraction + motion detection são blocos construtivos para muitas aplicações reais — vigilância, contagem, análise de tráfego e automação - fornece evidências práticas sobre sensibilidade, robustez e desempenho para escolher a configuração adequada.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <footer class="bg-dark text-white py-4 mt-5">
        <div class="container text-center">
            <p class="mb-0">© 2025 - Laboratório de Processamento de Vídeo</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>