<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Relatório Lab 4 - Processamento de Vídeo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
</head>

<style>
    /* Limit image size while keeping them responsive */
    img.limited {
      max-width: 100%;
      max-height: 300px; /* adjust as needed */
      object-fit: contain;
    }
</style>
<body class="bg-light">
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="../index.html">
                <i class="bi bi-arrow-left"></i> Voltar
            </a>
        </div>
    </nav>

    <div class="container py-4">
        <header class="text-center mb-5">
            <h1 class="display-4">Relatório Laboratório 4</h1>
            <p class="lead text-muted">Histogramas e Thresholding</p>
        </header>

        <!-- 1. Introdução -->
        <section class="mb-5">
            <h2 class="h3 mb-3">1. Introdução</h2>
            <div class="card">
                <div class="card-body">
                    <p>
                        Este relatório documenta o procedimento de estudo teorico e pratico da utilizacao de histogramas e thresholding para processamento de imagens utilizando a biblioteca openCV e linguagem c++.
                        Parte-se do pressuposto que relatorios anteriores foram estudados e ambiente de programacao esta configurado.
                    </p>
                </div>
            </div>
        </section>

        <!-- 2. Fundamentos Básicos -->
        <section class="mb-5">
            <h2 class="h3 mb-3">2. Fundamentos Básicos</h2>
            <div class="card">
                <div class="card-body">
                    <p>
                        O procedimento de criacao de um histograma a partir de uma imagem se baseia em categorizar cada pixel da imagem em um Bin (ou categoria) de
                        um Histograma baseado em sua intensidade, podendo ser em escala de cinza ou em cada um de seus canais de cor.

                        O procedimento de Thresholding se baseia em aplicar uma funcao degrau (ou suas similares e variacoes) a cada pixel de uma imagem, com o objetivo
                        de manter ou remover elementos para dar enfase a atributos desejados.
                    </p>
                </div>
            </div>
        </section>

        <!-- 3. Materiais e Métodos -->
        <section class="mb-5">
            <h2 class="h3 mb-3">3. Estudo e exemplos utilizados</h2>
            <div class="card">
                <div class="card-body">
                    <h3>Exemplos fornecidos pelo roteiro:</h3>

                    <p>
                        Exemplos de tutoriais fornecidos pelo roteiro de atividade pratica foram seguidos e estudados, de forma que
                        codigos fornecidos por eles foram utilizados como a base para o desenvolvimento de items subsequentes.

                        Artigos podem ser acessados atraves dos links abaixo, que foram replicados do roteiro.
                    </p>

                    <ul>
                        <li>
                            <b>Equalizacao de Histogramas</b> por openCV <br>
                            <a class="btn btn-primary" href="https://docs.opencv.org/4.x/d4/d1b/tutorial_histogram_equalization.html">Link</a>
                        </li>
                        <li>
                            <b>Calculo de Histogramas e Limiarizacao/Binarizacao</b> por openCV <br>
                            <a class="btn btn-primary" href="https://docs.opencv.org/4.x/d8/dbc/tutorial_histogram_calculation.html">Link</a>
                        </li>
                        <li>
                            <b>Basic Thresholding Operations</b> por openCV <br>
                            <a class="btn btn-primary" href="https://docs.opencv.org/4.x/db/d8e/tutorial_threshold.html">Link</a>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="mb-5">
            <h2 class="h3 mb-3">4. Atividades Propostas</h2>
            <div class="card">
                <div class="card-body">
                    <h3>4.1 Histogramas e Equalizacao em Imagens em escala da cinza</h3>
                    <p>Especificacoes do programa:
                        <ul>
                            <li>Entrada: imagem colorida</li>
                            <li>Saida: Imagem convetida para cinza</li>
                            <li>Saida: Imagem em cinza equalizada</li>
                            <li>Saida: Histograma da imagem em cinza</li>
                            <li>Saida: Histograma da imagem equalizada</li>
                        </ul>
                    </p>
                    <h4> Procedimento: </h4>
                    <p>
                        Para realizacao desta tarefa vamos nos basear nos codigos fornecidos pelos exemplos 2 e 1, nesta ordem. <br>
                        O exemplo 2 fornece uma base para leitura de imagens e visualizacao de histogramas por canal. Nesta etapa de adaptacao,
                        a imagem sera convertida em escala de cinza e sera mantido apenas um canal singular, assim sera possivel visualizar a imagem em escala de cinza e seu histograma.
                        <br>
                        O exemplo 1 fornece o modo de utilizacao da funcao de equalizacao da imagem, nos permitindo assim obter a imagem  equalizada, e repetir o procedimento anterior para obter seu histograma.
                    </p>

                    <div class="container my-4">
                        <!-- Top row: two images -->
                        <div class="row mb-3">
                            <div class="col-md-6 text-center">
                                <p class="text-muted">Imagem Original</p>
                            <img src="imagens/etapa_1/src.png" alt="Image 1" class="img-fluid rounded shadow-sm mb-2 limited">
                            </div>
                            <div class="col-md-6 text-center">
                            <p class="text-muted">Imagem Equalizada</p>
                            <img src="imagens/etapa_1/dst.png" alt="Image 2" class="img-fluid rounded shadow-sm mb-2 limited">
                            </div>
                        </div>

                        <!-- Bottom row: graphs (can be PNGs or SVGs) -->
                        <div class="row">
                            <div class="col-md-6 text-center">
                            <p class="text-muted small">Histograma original</p>
                            <img src="imagens/etapa_1/hist_original.png" alt="Graph for Image 1" class="img-fluid rounded shadow-sm mb-2 limited">
                            </div>
                            <div class="col-md-6 text-center">
                            <p class="text-muted small">Histograma Equalizado</p>
                            <img src="imagens/etapa_1/hist_equalized.png" alt="Graph for Image 2" class="img-fluid rounded shadow-sm mb-2 limited">
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </section>

        <!-- 4. Resultados e Análises -->
        <section class="mb-5">
            <h2 class="h3 mb-3">4. Resultados e Análises</h2>
            <div class="card">
                <div class="card-body">
                    <div class="results-analysis">
                        <!-- 4.1 Resultados Obtidos -->
                        <div class="results-section mb-4">
                            <h4 class="h5 mb-3">4.1 Resultados Obtidos</h4>
                            <div class="row g-4">
                                <!-- Resultado 1 -->
                                <div class="col-md-6">
                                    <div class="card h-100">
                                        <div class="card-header bg-success text-white">
                                            <i class="bi bi-file-play"></i> Leitura de vídeos locais
                                        </div>
                                        <div class="card-body">
                                            <p class="card-text">
                                                Foi possível reproduzir vídeos e extrair informações como FPS e número de quadros.
                                            </p>
                                        </div>
                                    </div>
                                </div>


                                <!-- Resultado 3 -->
                                <div class="col-md-6">
                                    <div class="card h-100">
                                        <div class="card-header bg-info text-white">
                                            <i class="bi bi-save"></i> Gravação
                                        </div>
                                        <div class="card-body">
                                            <p class="card-text">
                                                O vídeo capturado foi salvo no formato .avi, com qualidade satisfatória e sincronização estável entre captura e gravação.
                                            </p>
                                        </div>
                                    </div>
                                </div>

                                <!-- Resultado 4 -->
                                <div class="col-md-6">
                                    <div class="card h-100">
                                        <div class="card-header bg-warning">
                                            <i class="bi bi-images"></i> Sequência de imagens
                                        </div>
                                        <div class="card-body">
                                            <p class="card-text">
                                                O processamento ocorreu sem perdas visuais perceptíveis, demonstrando que o OpenCV trata sequências de imagens de forma eficiente.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 4.2 Análise dos Resultados -->
                        <div class="analysis-section">
                            <h4 class="h5 mb-3">4.2 Análise dos Resultados</h4>
                            <div class="card">
                                <div class="card-body">
                                    <div class="findings-list">
                                        <div class="finding-item mb-3 p-3 border-start border-4 border-primary">
                                            <h6 class="mb-2"><i class="bi bi-gear-fill"></i> Versatilidade do VideoCapture</h6>
                                            <p class="mb-0">O <code>cv2.VideoCapture</code> é versátil, podendo receber dados de diferentes fontes (arquivo, câmera, RTMP, sequência de imagens).</p>
                                        </div>

                                        <div class="finding-item mb-3 p-3 border-start border-4 border-success">
                                            <h6 class="mb-2"><i class="bi bi-speedometer"></i> Desempenho</h6>
                                            <p class="mb-0">O desempenho depende fortemente do frame rate e do tempo de espera configurado em <code>cv2.waitKey()</code>.</p>
                                        </div>

                                        <div class="finding-item mb-3 p-3 border-start border-4 border-info">
                                            <h6 class="mb-2"><i class="bi bi-camera-reels"></i> VideoWriter</h6>
                                            <p class="mb-0">O <code>cv2.VideoWriter</code> requer que a taxa de quadros e o tamanho dos quadros sejam compatíveis com a fonte de entrada.</p>
                                        </div>

                                        <div class="finding-item mb-3 p-3 border-start border-4 border-secondary">
                                            <h6 class="mb-2"><i class="bi bi-file-earmark-code"></i> Formatos e Codecs</h6>
                                            <p class="mb-0">O uso de formatos padronizados (ex.: MJPG) e caminhos corretos de escrita evitou erros relacionados a codecs e permissões.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 5. Conclusões -->
        <section class="mb-5">
            <h2 class="h3 mb-3">5. Conclusões e Comentários Finais</h2>
                <div class="card">
                    <div class="card-body">
                        <!-- Introdução da Conclusão -->
                        <div class="conclusion-intro mb-4">
                            <p class="lead">
                                O experimento permitiu compreender de forma prática os fundamentos da captura,
                                exibição e gravação de imagens e vídeos com OpenCV.
                            </p>
                        </div>

                        <!-- Lições Aprendidas -->
                        <div class="lessons-learned mb-4">
                            <h4 class="h5 mb-3">
                                <i class="bi bi-lightbulb"></i> Principais Lições Aprendidas
                            </h4>
                            <div class="row g-4">
                                <!-- Lição 1 -->
                                <div class="col-md-6">
                                    <div class="card h-100 border-primary">
                                        <div class="card-body">
                                            <h6 class="card-title">
                                                <i class="bi bi-shield-check"></i> Verificação de Retorno
                                            </h6>
                                            <p class="card-text">
                                                A importância de verificar o retorno (<code>ret</code>) das funções
                                                de captura para evitar falhas silenciosas.
                                            </p>
                                        </div>
                                    </div>
                                </div>

                                <!-- Lição 2 -->
                                <div class="col-md-6">
                                    <div class="card h-100 border-success">
                                        <div class="card-body">
                                            <h6 class="card-title">
                                                <i class="bi bi-recycle"></i> Gerenciamento de Recursos
                                            </h6>
                                            <p class="card-text">
                                                A necessidade de liberar recursos (<code>release()</code>) ao final
                                                da execução para evitar travamentos.
                                            </p>
                                        </div>
                                    </div>
                                </div>

                                <!-- Lição 3 -->
                                <div class="col-md-6">
                                    <div class="card h-100 border-info">
                                        <div class="card-body">
                                            <h6 class="card-title">
                                                <i class="bi bi-diagram-3"></i> Fluxos de Dados
                                            </h6>
                                            <p class="card-text">
                                                A diferença entre fluxos locais e remotos, principalmente quanto
                                                à latência e estabilidade.
                                            </p>
                                        </div>
                                    </div>
                                </div>

                                <!-- Lição 4 -->
                                <div class="col-md-6">
                                    <div class="card h-100 border-warning">
                                        <div class="card-body">
                                            <h6 class="card-title">
                                                <i class="bi bi-camera-reels"></i> Parâmetros de Gravação
                                            </h6>
                                            <p class="card-text">
                                                O papel do <code>cv2.VideoWriter</code> na gravação e a influência
                                                dos parâmetros de codec e FPS na qualidade final.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Considerações Finais -->
                        <div class="final-considerations mt-4">
                            <div class="alert alert-success" role="alert">
                                <h4 class="alert-heading">
                                    <i class="bi bi-arrow-right-circle"></i> Aplicações Futuras
                                </h4>
                                <p class="mb-0">
                                    De modo geral, os programas desenvolvidos podem servir como base para futuras
                                    aplicações de visão computacional, como:
                                </p>
                                <ul class="mt-2 mb-0">
                                    <li>Análise de movimento</li>
                                    <li>Detecção de objetos</li>
                                    <li>Transmissão de vídeo em tempo real</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
        </section>
    </div>

    <footer class="bg-dark text-white py-4 mt-5">
        <div class="container text-center">
            <p class="mb-0">© 2025 - Laboratório de Processamento de Vídeo</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
